---
title: Create a transaction with a token
sidebar_label: Tokenized transaction
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

A transaction can be created with a previously tokenized [payment
method][guides]. The call requires an `amount`, `currency`, and a
`payment_method` with a `token`. This token can represent a card, a PayPal
account, or any other payment method.

:::note

Check out our [guides] to learn more about payment methods and the ability to
tie a payment method to a buyer.

:::

<Tabs
  groupId="language"
  defaultValue="curl"
  values={[
    { label: 'cURL', value: 'curl', },
    { label: 'Node', value: 'node', },
  ]}
>
  <TabItem value="curl">

```bash {5-10}
curl -i -X POST "https://api.{subdomain}.gr4vy.com/transactions" \
    -H "Authorization: Bearer [JWT_TOKEN]" \
    -H "Content-Type: application/json" \
    -d '{
          "amount": 1299,
          "currency": "USD",
          "payment_method": {
            "method": "token",
            "token": "0123456789123458"
          }
        }'
```

  </TabItem>
  <TabItem value="node">

```js {10-15}
var fetch = require("node-fetch");

fetch("https://api.{subdomain}.gr4vy.com/transactions", {
  method: "POST",
  headers: {
    Authorization: "Bearer [JWT_TOKEN]",
    "Content-Type": "application/json",
  },
  body: JSON.stringify({
    amount: 1299,
    currency: "USD",
    payment_method: {
      method: "token",
      token: "0123456789123458",
    },
  }),
});
```

</TabItem>
</Tabs>

This API will return the authorized transaction. This transaction record will
have a status of `created`, signifying that the transaction is stored in Gr4vy.
The `status` is set to `authorized` to signify that it authorized but not yet
captured. The payment method will represent the actually used payment method.

```json
{
  "type": "transaction",
  "id": "fe26475d-ec3e-4884-9553-f7356683f7f9",
  "status": "authorized",
  "amount": 1299,
  "currency": "USD",
  "payment_method": {
    "type": "payment-method",
    "id": "77a76f7e-d2de-4bbc-ada9-d6a0015e6bd5",
    "method": "card",
    "status": "stored",
    "token": "0123456789123458",
    "buyer": null,
    "details": {
      "number": "XXXX XXXX XXXX 1111",
      "expiration_date": "11 / 21",
      "scheme": "visa"
    },
    "external_identifier": null,
    "created_at": "2013-07-16T19:23:00.000Z",
    "updated_at": "2013-07-16T19:23:00.000Z"
  },
  "payment_service_id": "stripe-card-169f5226-4644-4d1e-ac36-14999e73601f",
  "external_identifier": null,
  "created_at": "2013-07-16T19:23:00.000Z",
  "updated_at": "2019-08-24T14:15:22Z"
}
```

[guides]: /guides/payment-methods
