---
title: Tokenize a card
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

A card can be tokenized by calling the [`POST /payment-methods`][api] API. The
call requires a `method` and the card `number` and an optional `security_code`
and `expiration_date` for the card details.

:::note

Additionally, the API call accepts a `buyer_id` or `buyer_external_identifier`
which can be used to associate a card to a previously created [buyer].

:::

[api]: /reference#operation/store-payment-method
[buyer]: /guides/buyers/add

<Tabs
  groupId="language"
  defaultValue="curl"
  values={[
    { label: 'cURL', value: 'curl', },
    { label: 'Node', value: 'node', },
  ]}
>
  <TabItem value="curl">

```bash {5-9}
curl -i -X POST "https://api.{subdomain}.gr4vy.com/payment-methods" \
    -H "Authorization: Bearer [JWT_TOKEN]" \
    -H "Content-Type: application/json" \
    -d '{
        "method": "card",
        "number": "4111111111111111",
        "expiration_date": "11 / 22",
        "security_code": "123",
        "buyer_external_identifier": "user-789123"
      }'
```

  </TabItem>
  <TabItem value="node">

```js {10-14}
const fetch = require("node-fetch");

fetch("https://api.{subdomain}.gr4vy.com/payment-methods", {
  method: "POST",
  headers: {
    Authorization: "Bearer [JWT_TOKEN]",
    "Content-Type": "application/json",
  },
  body: JSON.stringify({
    method: "card",
    number: "4111111111111111",
    expiration_date: "11 / 22",
    security_code: "123",
    buyer_external_identifier: "user-789123",
  }),
});
```

  </TabItem>
</Tabs>

The API returns a stored card.

```json title="POST /payment-methods"
{
  "type": "payment-method",
  "id": "77a76f7e-d2de-4bbc-ada9-d6a0015e6bd5",
  "status": "created",
  "method": "stored",
  "token": "0123456789123458",
  "details": {
    "number": "XXXX XXXX XXXX 1111",
    "expiration_date": "11 / 21",
    "schema": "visa"
  },
  "created_at": "2013-07-16T19:23:00.000Z",
  "updated_at": "2013-07-16T19:23:00.000Z",
  "external_identifier": null,
  "buyer": {
    "type": "buyer",
    "id": "fe26475d-ec3e-4884-9553-f7356683f7f9",
    "external_identifier": "user-789123",
    "display_name": "John L.",
    "created_at": "2013-07-16T19:23:00.000Z",
    "updated_at": "2013-07-16T19:23:00.000Z"
  }
}
```
